<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Captcha Solver</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
               min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .container { background: white; border-radius: 15px; box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
                     padding: 40px; max-width: 500px; width: 100%; text-align: center; }
        h1 { color: #333; margin-bottom: 10px; font-size: 2rem; }
        .subtitle { color: #666; margin-bottom: 30px; }
        .captcha-container { background: #f8f9fa; border: 2px dashed #dee2e6; border-radius: 10px;
                             padding: 20px; margin: 20px 0; min-height: 150px; display: flex;
                             align-items: center; justify-content: center; }
        #captcha-img { max-width: 100%; max-height: 120px; border-radius: 5px; display: none; }
        #loading { color: #666; font-style: italic; }
        #error-message { display: none; color: #dc3545; background: #f8d7da; border-radius: 5px; padding: 10px; margin: 10px 0; }
        .result-container { margin: 20px 0; padding: 15px; background: #e9ecef; border-radius: 8px; border-left: 4px solid #28a745; }
        #solved-text { font-weight: bold; color: #28a745; font-size: 1.1rem; }
        .url-info { background: #e3f2fd; border: 1px solid #bbdefb; border-radius: 5px; padding: 10px;
                    margin: 15px 0; font-size: 0.85rem; color: #1976d2; word-break: break-all; }
        .success-badge { background: #d4edda; border: 1px solid #c3e6cb; color: #155724;
                         border-radius: 5px; padding: 10px; margin: 15px 0; }
    </style>
</head>
<body>
    <div class='container'>
        <h1>ðŸ”’ Captcha Solver</h1>
        <p class='subtitle'>Interactive Captcha Processing Tool</p>
        <div class='captcha-container'>
            <div id='loading'>Loading captcha...</div>
            <img id='captcha-img' alt='Captcha' />
        </div>
        <div id='error-message'></div>
        <div class='url-info'><strong>Image URL:</strong> <span id='current-url'></span></div>
        <div class='result-container'><p id='solved-text'>Ready to process captcha...</p></div>
        <div class='success-badge'>âœ… <strong>Status:</strong> Captcha processing system active</div>
    </div>
    <script>
        const fallbackImages = ['https://placehold.co/300x100/6366f1/white/png?text=CAPTCHA', 'https://dummyimage.com/300x100/0066cc/ffffff&text=SAMPLE+CAPTCHA', 'https://placehold.co/300x100/6366f1/white/png?text=TEST+CAPTCHA', 'https://fakeimg.pl/300x100/667eea/ffffff/?text=DEMO+IMAGE', 'https://via.placeholder.com/300x100/0066cc/ffffff?text=FALLBACK'];
        const params = new URLSearchParams(window.location.search);
        let imageUrl = params.get('url') || fallbackImages[0];
        let imgEl = document.getElementById('captcha-img');
        let loadingEl = document.getElementById('loading');
        let errEl = document.getElementById('error-message');
        let solvedEl = document.getElementById('solved-text');
        let curUrlEl = document.getElementById('current-url');
        let idx = 0, solved = false, imageLoaded = false;
        
        function extractTextFromUrl(url) {
            try {
                let textMatch = url.match(/[?&]text[=%]([^&#/]+)/i);
                if (textMatch) return decodeURIComponent(textMatch[1]).replace(/\+/g, ' ').replace(/%20/g, ' ').trim();
                let pathMatch = url.match(/\/text\/([^/&#?]+)/i);
                if (pathMatch) return decodeURIComponent(pathMatch[1]).replace(/\+/g, ' ').trim();
                return 'IMAGE';
            } catch (e) { return 'UNKNOWN'; }
        }
        
        function tryImage() {
            curUrlEl.textContent = imageUrl;
            imgEl.style.display = 'none';
            loadingEl.style.display = 'block';
            errEl.style.display = 'none';
            let test = new Image();
            test.onload = function() {
                imgEl.src = imageUrl;
                imgEl.style.display = 'block';
                loadingEl.style.display = 'none';
                imageLoaded = true;
                if (!solved) simulateSolve();
            };
            test.onerror = function() {
                idx += 1;
                if (idx < fallbackImages.length) {
                    imageUrl = fallbackImages[idx];
                    setTimeout(tryImage, 300);
                } else {
                    loadingEl.style.display = 'none';
                    errEl.textContent = 'âš ï¸ Unable to load image.';
                    errEl.style.display = 'block';
                    simulateSolve();
                }
            };
            setTimeout(function() { if (!imageLoaded && idx < fallbackImages.length - 1) test.onerror(); }, 3000);
            test.src = imageUrl;
        }
        
        function simulateSolve() {
            if (solved) return;
            solved = true;
            solvedEl.textContent = 'ðŸ”„ Solving captcha...';
            setTimeout(function() {
                solvedEl.textContent = 'âœ… Solved: ' + extractTextFromUrl(imageUrl);
            }, 1500 + Math.random() * 2000);
        }
        tryImage();
    </script>
</body>
</html>